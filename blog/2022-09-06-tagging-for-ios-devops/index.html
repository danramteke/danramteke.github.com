<!DOCTYPE html><html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="geo.placename" content="New York City">
    <meta name="geo.region" content="US-NY">
    <meta name="description" content="Freelance iOS App Developer for New York City">
    <meta name="keywords" content="nyc, new york city, ios, swift, iphone, developer, programmer, engineer, freelance, contractor, devops, kubernetes, digitalocean, docker, terraform">
    <meta name="author" content="Dan Ramteke">
    <title>Tagging for iOS DevOps :: Dan Ramteke iOS, DevOps, and web development in New York City</title>

<link rel="stylesheet" href="/assets/c65a49ed.0606c683.css" /></head>
<body class="bg-sky-100 text-sky-900 ">

<div class="sm:sticky sm:top-0 sm:flex sm:justify-between sm:items-center bg-neutral-800 text-blue-50 py-2">
  <div class="text-3xl font-bold px-8"><a href="/">Daniel Ramteke</a></div>


  <div class="sm:flex px-4">
    <a href="/blog" class="px-4 hover:bg-sky-900 hover:text-white text-sky-50 corner-2 rounded-full">
      Blog
    </a>

    <a href="/about" class="px-4 hover:bg-sky-900 hover:text-white text-sky-50 corner-2 rounded-full">
      About
    </a>

    <a href="/resume" class="px-4 hover:bg-sky-900 hover:text-white text-sky-50 corner-2 rounded-full">
      Resume
    </a>
    <a href="/contact" class="px-4 hover:bg-sky-900 hover:text-white text-sky-50 corner-2 rounded-full">
      Contact
    </a>
  </div>

</div>

<div>
<div class="px-8 container">
    <div class="prose mt-8
prose-a:text-red-600 prose-a:no-underline
hover:prose-a:text-red-400 hover:prose-a:underline hover:prose-a:decoration-2

prose-h1:font-sans
prose-h2:font-sans
prose-h3:font-sans
prose-h4:font-sans
prose-h5:font-sans
prose-h6:font-sans
prose-strong:font-sans">
 <h1 id="tagging-for-ios-devops">Tagging for iOS DevOps</h1>
<p>When you’re ready to submit a build to TestFlight, I recommend tagging that commit in the style of <code>1.2.3-7</code>, where <code>1.2.3</code> is the marketing version shown on the App Store and <code>7</code> is the build number. This strategy allows us to easily reference what code went into which build.</p>
<p>If we take this approach, we can set up our CI/CD system to build our code and push to the App Store.</p>
<p>On <a href="https://bitrise.io">BitRise</a>, we can use the following code to interpret the tag as as a marketing version and build number. This code uses Bash regular expressions.</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #c9d1d9">#!/usr/bin/env bash</span></span>
<span class="line"><span style="color: #c9d1d9">set -e set -o pipefail set -x</span></span>
<span class="line"><span style="color: #c9d1d9"></span></span>
<span class="line"><span style="color: #c9d1d9">echo "tag is: $BITRISE_GIT_TAG"</span></span>
<span class="line"><span style="color: #c9d1d9">rx='([0-9]+\.[0-9]+\.[0-9]+)-([0-9]+)'</span></span>
<span class="line"><span style="color: #c9d1d9">if [[ $BITRISE_GIT_TAG =~ $rx ]]; then</span></span>
<span class="line"><span style="color: #c9d1d9"> echo "0: ${BASH_REMATCH[0]}"</span></span>
<span class="line"><span style="color: #c9d1d9"> echo "1: ${BASH_REMATCH[1]}"</span></span>
<span class="line"><span style="color: #c9d1d9"> echo "2: ${BASH_REMATCH[2]}"</span></span>
<span class="line"><span style="color: #c9d1d9">else</span></span>
<span class="line"><span style="color: #c9d1d9"> echo "No match!"</span></span>
<span class="line"><span style="color: #c9d1d9"> exit 1</span></span>
<span class="line"><span style="color: #c9d1d9">fi</span></span>
<span class="line"><span style="color: #c9d1d9">envman add --key GIT_TAG_MARKETING_VERSION --value "${BASH_REMATCH[1]}"</span></span>
<span class="line"><span style="color: #c9d1d9">envman add --key GIT_TAG_BUILD_NUMBER --value "${BASH_REMATCH[2]}"</span></span></code></pre>
<p>If this script is run as a “build step”, we use BitRise’s <code>envman</code> to add the parsed information to our environment, so that our other build steps have easy access to this information.</p>
</div>
  </div>
</div>

<footer class=" mt-8 pt-2 border-solid bg-sky-900  border-t px-8 text-slate-300 ">

    <div class=" grid grid-cols-1 md:grid-cols-3 gap-8 ">

            <div class="">
                <p>Interested in working together? I'd love to hear from you. Contact me <a href="mailto:daniel@danramteke.com">daniel at
                        danramteke dot com</a>.</p>

            </div>
            <div class="pt-1">
                <p>
                   <img src="/hi.png" width="220" height="220">
                </p>
            </div>

            <div class="">

             <ul class="list-group ">


              <div>
                     <a href="https://twitter.com/danramteke" class="hover:underline">Twitter: danramteke</a>
                </div><div>
                     <a href="https://github.com/danramteke" class="hover:underline">GitHub: danramteke</a>
                </div><div>
                     <a href="https://instagram.com/danramteke" class="hover:underline">Instagram: danramteke</a>
                </div><div>
                     <a href="http://linkedin.com/in/danielramteke" class="hover:underline">LinkedIn: danielramteke</a>
                </div>
             </ul>

            </div>

    </div>
    <p class="py-8"><a href="/" class="hover:underline">&copy;2022 Daniel Ramteke</a> </p>
</footer>
</body></html>