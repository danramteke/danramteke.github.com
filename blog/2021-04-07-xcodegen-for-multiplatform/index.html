<!DOCTYPE html><html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="geo.placename" content="New York City">
    <meta name="geo.region" content="US-NY">
    <meta name="description" content="Freelance iOS App Developer for New York City">
    <meta name="keywords" content="nyc, new york city, ios, swift, iphone, developer, programmer, engineer, freelance, contractor, devops, kubernetes, digitalocean, docker, terraform">
    <meta name="author" content="Dan Ramteke">
    <title>Xcodegen for Multiplatform Xcode projects :: Dan Ramteke iOS, DevOps, and web development in New York City</title>

<link rel="stylesheet" href="/assets/2f67cb1b.7514f286.css" /></head>
<body class="bg-sky-50 text-sky-900 ">

<div class="sm:sticky sm:top-0 sm:flex sm:justify-between sm:items-center bg-neutral-800 text-blue-50 py-2">
  <div class="text-3xl font-bold px-8"><a href="/">Daniel Ramteke</a></div>


  <div class="sm:flex px-4">
    <a href="/blog" class="px-4 hover:bg-sky-900 hover:text-white text-sky-50 corner-2 rounded-full">
      Blog
    </a>

    <a href="/about" class="px-4 hover:bg-sky-900 hover:text-white text-sky-50 corner-2 rounded-full">
      About
    </a>

    <a href="/resume" class="px-4 hover:bg-sky-900 hover:text-white text-sky-50 corner-2 rounded-full">
      Resume
    </a>
    <a href="/contact" class="px-4 hover:bg-sky-900 hover:text-white text-sky-50 corner-2 rounded-full">
      Contact
    </a>
  </div>

</div>

<div>
<div class="px-8 container">
    <div class="prose mt-8
prose-a:text-red-600 prose-a:no-underline
hover:prose-a:text-red-400 hover:prose-a:underline hover:prose-a:decoration-2

prose-h1:font-sans
prose-h2:font-sans
prose-h3:font-sans
prose-h4:font-sans
prose-h5:font-sans
prose-h6:font-sans
prose-strong:font-sans">
 <h1 id="xcodegen-for-multiplatform-xcode-projects">Xcodegen for Multiplatform Xcode projects</h1>
<p>Here’s how I use <a href="https://github.com/yonaskolb/XcodeGen">Xcodegen</a> for a new project that targets MacOS and iOS. It’s here for your reference or inspiration.</p>
<h1 id="project">Project</h1>
<p>Here is my <code>project.yml</code>:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #c9d1d9">name: Example</span></span>
<span class="line"><span style="color: #c9d1d9">options:</span></span>
<span class="line"><span style="color: #c9d1d9">  deploymentTarget:</span></span>
<span class="line"><span style="color: #c9d1d9">    iOS: "14.0"</span></span>
<span class="line"><span style="color: #c9d1d9">    macOS: "11.0"</span></span>
<span class="line"><span style="color: #c9d1d9">schemes:</span></span>
<span class="line"><span style="color: #c9d1d9">  Example-iOS:</span></span>
<span class="line"><span style="color: #c9d1d9">    build:</span></span>
<span class="line"><span style="color: #c9d1d9">      targets:</span></span>
<span class="line"><span style="color: #c9d1d9">        Example-iOS: all</span></span>
<span class="line"><span style="color: #c9d1d9">  Example-macOS:</span></span>
<span class="line"><span style="color: #c9d1d9">    build:</span></span>
<span class="line"><span style="color: #c9d1d9">      targets:</span></span>
<span class="line"><span style="color: #c9d1d9">        Example-macOS: all</span></span>
<span class="line"><span style="color: #c9d1d9">targets:</span></span>
<span class="line"><span style="color: #c9d1d9">  Example-macOS:</span></span>
<span class="line"><span style="color: #c9d1d9">    type: application</span></span>
<span class="line"><span style="color: #c9d1d9">    platform: macOS</span></span>
<span class="line"><span style="color: #c9d1d9">    sources:</span></span>
<span class="line"><span style="color: #c9d1d9">      - path: macOS</span></span>
<span class="line"><span style="color: #c9d1d9">      - path: Shared</span></span>
<span class="line"><span style="color: #c9d1d9">    settings:</span></span>
<span class="line"><span style="color: #c9d1d9">      DEVELOPMENT_TEAM: 1234567890</span></span>
<span class="line"><span style="color: #c9d1d9">      CODE_SIGN_STYLE: Automatic</span></span>
<span class="line"><span style="color: #c9d1d9">      ORGANIZATIONNAME: "Example Organization"</span></span>
<span class="line"><span style="color: #c9d1d9">      PRODUCT_BUNDLE_IDENTIFIER: com.Example.app</span></span>
<span class="line"><span style="color: #c9d1d9">      VERSIONING_SYSTEM: apple-generic</span></span>
<span class="line"><span style="color: #c9d1d9">      SWIFT_VERSION: 5.3</span></span>
<span class="line"><span style="color: #c9d1d9">      CURRENT_PROJECT_VERSION: ${APP_BUILD_NUMBER}</span></span>
<span class="line"><span style="color: #c9d1d9">    entitlements:</span></span>
<span class="line"><span style="color: #c9d1d9">      path: macOS/macOS.entitlements</span></span>
<span class="line"><span style="color: #c9d1d9">      properties:</span></span>
<span class="line"><span style="color: #c9d1d9">        com.apple.security.app-sandbox: true</span></span>
<span class="line"><span style="color: #c9d1d9">        com.apple.security.files.user-selected.read-only: true</span></span>
<span class="line"><span style="color: #c9d1d9">    info:</span></span>
<span class="line"><span style="color: #c9d1d9">      path: macOS/Info.plist</span></span>
<span class="line"><span style="color: #c9d1d9">      properties:</span></span>
<span class="line"><span style="color: #c9d1d9">        CFBundleVersion: ${APP_BUILD_NUMBER}</span></span>
<span class="line"><span style="color: #c9d1d9">        CFBundleShortVersionString: ${APP_BUILD_VERSION}</span></span>
<span class="line"><span style="color: #c9d1d9">        CFBundleDevelopmentRegion: $(DEVELOPMENT_LANGUAGE)</span></span>
<span class="line"><span style="color: #c9d1d9">        CFBundleName: $(PRODUCT_NAME)</span></span>
<span class="line"><span style="color: #c9d1d9">        CFBundleDisplayName: Example</span></span>
<span class="line"><span style="color: #c9d1d9">        CFBundleIconFile: ""</span></span>
<span class="line"><span style="color: #c9d1d9">        CFBundleIdentifier: $(PRODUCT_BUNDLE_IDENTIFIER)</span></span>
<span class="line"><span style="color: #c9d1d9">        CFBundleInfoDictionaryVersion: "6.0"</span></span>
<span class="line"><span style="color: #c9d1d9">        CFBundlePackageType: $(PRODUCT_BUNDLE_PACKAGE_TYPE)</span></span>
<span class="line"><span style="color: #c9d1d9">        LSMinimumSystemVersion: $(MACOSX_DEPLOYMENT_TARGET)</span></span>
<span class="line"><span style="color: #c9d1d9">  Example-iOS:</span></span>
<span class="line"><span style="color: #c9d1d9">    type: application</span></span>
<span class="line"><span style="color: #c9d1d9">    platform: iOS</span></span>
<span class="line"><span style="color: #c9d1d9">    sources:</span></span>
<span class="line"><span style="color: #c9d1d9">      - path: iOS</span></span>
<span class="line"><span style="color: #c9d1d9">      - path: Shared</span></span>
<span class="line"><span style="color: #c9d1d9">    settings:</span></span>
<span class="line"><span style="color: #c9d1d9">      DEVELOPMENT_TEAM: 1234567890</span></span>
<span class="line"><span style="color: #c9d1d9">      CODE_SIGN_STYLE: Automatic</span></span>
<span class="line"><span style="color: #c9d1d9">      ORGANIZATIONNAME: "Example Organization"</span></span>
<span class="line"><span style="color: #c9d1d9">      PRODUCT_BUNDLE_IDENTIFIER: com.Example.app</span></span>
<span class="line"><span style="color: #c9d1d9">      TARGETED_DEVICE_FAMILY: 1,2</span></span>
<span class="line"><span style="color: #c9d1d9">      VERSIONING_SYSTEM: apple-generic</span></span>
<span class="line"><span style="color: #c9d1d9">      SWIFT_VERSION: 5.3</span></span>
<span class="line"><span style="color: #c9d1d9">      CURRENT_PROJECT_VERSION: ${APP_BUILD_NUMBER}</span></span>
<span class="line"><span style="color: #c9d1d9">    entitlements:</span></span>
<span class="line"><span style="color: #c9d1d9">      path: iOS/iOS.entitlements</span></span>
<span class="line"><span style="color: #c9d1d9">    info:</span></span>
<span class="line"><span style="color: #c9d1d9">      path: iOS/Info.plist</span></span>
<span class="line"><span style="color: #c9d1d9">      properties:</span></span>
<span class="line"><span style="color: #c9d1d9">        CFBundleVersion: ${APP_BUILD_NUMBER}</span></span>
<span class="line"><span style="color: #c9d1d9">        CFBundleShortVersionString: ${APP_BUILD_VERSION}</span></span>
<span class="line"><span style="color: #c9d1d9">        CFBundleDevelopmentRegion: $(DEVELOPMENT_LANGUAGE)</span></span>
<span class="line"><span style="color: #c9d1d9">        CFBundleDisplayName: Example</span></span>
<span class="line"><span style="color: #c9d1d9">        ITSAppUsesNonExemptEncryption: false</span></span>
<span class="line"><span style="color: #c9d1d9">        LSRequiresIPhoneOS: true</span></span>
<span class="line"><span style="color: #c9d1d9">        UIApplicationSceneManifest:</span></span>
<span class="line"><span style="color: #c9d1d9">          UIApplicationSupportsMultipleScenes: true</span></span>
<span class="line"><span style="color: #c9d1d9">        UIApplicationSupportsIndirectInputEvents: true</span></span>
<span class="line"><span style="color: #c9d1d9">        UILaunchScreen: {}</span></span>
<span class="line"><span style="color: #c9d1d9">        NSAppTransportSecurity:</span></span>
<span class="line"><span style="color: #c9d1d9">          NSAllowsLocalNetworking: true</span></span>
<span class="line"><span style="color: #c9d1d9">        UIRequiredDeviceCapabilities: [armv7]</span></span>
<span class="line"><span style="color: #c9d1d9">        UISupportedInterfaceOrientations:</span></span>
<span class="line"><span style="color: #c9d1d9">          - UIInterfaceOrientationPortrait</span></span>
<span class="line"><span style="color: #c9d1d9">        UISupportedInterfaceOrientations~ipad:</span></span>
<span class="line"><span style="color: #c9d1d9">          - UIInterfaceOrientationPortrait</span></span>
<span class="line"><span style="color: #c9d1d9">          - UIInterfaceOrientationPortraitUpsideDown</span></span>
<span class="line"><span style="color: #c9d1d9">          - UIInterfaceOrientationLandscapeLeft</span></span>
<span class="line"><span style="color: #c9d1d9">          - UIInterfaceOrientationLandscapeRight</span></span></code></pre>
<p>This defines two targets, one for macOS and one for iOS, just like Xcode’s multiplatform template.</p>
<h2 id="bootstrap">Bootstrap</h2>
<p>I don’t call <code>xcodegen</code> directly. The <code>project.yml</code> references two variables for the build number and the marketing version, and those are stored in two files named <code>build-number</code> which contains the current build number (for example: <code>1</code>) and <code>build-version</code> which contains the current marketing version (for example: <code>1.0.0</code>).</p>
<p>To make sure those values are available to <code>xcodegen</code>, I create a <code>bootstrap.sh</code> script that looks like this:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #c9d1d9">rm -fr *.xcodeproj</span></span>
<span class="line"><span style="color: #c9d1d9"></span></span>
<span class="line"><span style="color: #c9d1d9">export APP_BUILD_NUMBER=$(cat build-number)</span></span>
<span class="line"><span style="color: #c9d1d9">export APP_BUILD_VERSION=$(cat build-version)</span></span>
<span class="line"><span style="color: #c9d1d9"></span></span>
<span class="line"><span style="color: #c9d1d9">xcodegen generate -s project.yml</span></span></code></pre>
<p>So when I need to regenerate the xcode project, I run <code>./bootstrap.sh</code> from the project’s root directory.</p>
</div>
  </div>
</div>

<footer class=" mt-8 pt-2 border-solid bg-sky-900  border-t px-8 text-slate-300 ">

    <div class=" grid grid-cols-1 md:grid-cols-3 gap-8 ">

            <div class="">
                <p>Interested in working together? I'd love to hear from you. Contact me <a href="mailto:daniel@danramteke.com">daniel at
                        danramteke dot com</a>.</p>

            </div>
            <div class="pt-1">
                <p>
                   <img src="/hi.png" width="220" height="220">
                </p>
            </div>

            <div class="">

             <ul class="list-group ">


              <div>
                     <a href="https://twitter.com/danramteke" class="hover:underline">Twitter: danramteke</a>
                </div><div>
                     <a href="https://github.com/danramteke" class="hover:underline">GitHub: danramteke</a>
                </div><div>
                     <a href="https://instagram.com/danramteke" class="hover:underline">Instagram: danramteke</a>
                </div><div>
                     <a href="http://linkedin.com/in/danielramteke" class="hover:underline">LinkedIn: danielramteke</a>
                </div>
             </ul>

            </div>

    </div>
    <p class="py-8"><a href="/" class="hover:underline">&copy;2022 Daniel Ramteke</a> </p>
</footer>
</body></html>